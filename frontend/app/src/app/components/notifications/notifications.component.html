
<div class="notifications-container">
  <h2>Notifications</h2>

  <div *ngIf="notifications.length === 0" class="empty">
    No notifications yet.
  </div>

  <div
    *ngFor="let n of notifications"
    class="notification-card"
    [class.unread]="n.groupingState !== 'READ'"
  >
    <!-- last actor image -->
    <div class="avatar">
      <img
        [src]="'data:image/jpeg;base64,' + n.lastActorProfilePicture"
        (error)="onImageError($event, 'assets/ProfileAvatar.png')"
        alt="Profile picture"
      />
    </div>

    <div class="content">
      <!-- readable sentence -->
      <div class="text">
        <strong>{{ actorSummary(n.actorDisplayNames) }}</strong>
        <span>{{ actionText(n) }}</span>

        <!-- show hyperlink if status exists -->
        <ng-container *ngIf="n.statusId">
          <a
            [routerLink]="['/status', n.statusId]"
            class="status-link"
          >
            {{ n.statusContent ? '"' + n.statusContent + '"' : 'your status' }}
          </a>
        </ng-container>
      </div>

      <div class="meta">
        <small>{{ readableState(n.groupingState) }}</small>
        <small>â€¢ {{ n.lastUpdatedAt | date:'short' }}</small>
      </div>
    </div>
  </div>
</div>
